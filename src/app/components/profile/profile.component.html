<app-navigation></app-navigation>
<div class="user-info">
  <ng-container *ngIf="userService.user$ | async as user">
    <p-card
      header="{{ user.email }}"
      subheader="u/{{ user.username }}"
      [style]="{ width: '360px' }"
      styleClass="p-card-shadow"
    >
      <ng-template pTemplate="header">
        <div *ngIf="user.imgType" class="user-info-profile-container">
          <img
            src="{{
              'data:' + user.imgType + ';base64,' + user.profilePicture
            }}"
            alt="Profile Picture"
            width="350"
            class="user-info__profile-pic--img"
          />
        </div>
      </ng-template>
      <!-- Card-Body -->
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Inventore sed
        consequuntur error repudiandae numquam deserunt quisquam repellat libero
        asperiores earum nam nobis, culpa ratione quam perferendis esse,
        cupiditate neque quas!
      </p>
      <ng-template pTemplate="footer">
        <!-- IMAGE BTN -->
        <p-fileUpload
          mode="basic"
          accept="image/*"
          [maxFileSize]="1000000"
          [chooseIcon]="'pi pi-image'"
          chooseLabel="Select Picture"
          uploadLabel="Upload Picture"
          (onSelect)="onUploadPic($event)"
          [customUpload]="true"
          (uploadHandler)="addNewProfilePic()"
        ></p-fileUpload>
      </ng-template>
    </p-card>
  </ng-container>
</div>
<button (click)="test()">TEST</button>
